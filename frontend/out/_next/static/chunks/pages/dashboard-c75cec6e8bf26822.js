(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1840:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(9447)}])},574:function(e,s,a){"use strict";var t=a(5893),r=a(7294),n=a(3935);s.Z=e=>{let{text:s,children:a,className:i="",...o}=e,[l,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)({top:0,left:0,width:0}),x=(0,r.useRef)(null),u=(0,r.useCallback)(()=>{if(x.current){let e=x.current.getBoundingClientRect();m({top:e.bottom+window.scrollY+8,left:e.left+window.scrollX+e.width/2,width:e.width})}},[]);return(0,r.useLayoutEffect)(()=>{if(l)return u(),window.addEventListener("scroll",u,!0),window.addEventListener("resize",u),()=>{window.removeEventListener("scroll",u,!0),window.removeEventListener("resize",u)}},[l,u]),(0,t.jsxs)("span",{ref:x,className:"relative inline-flex items-center ".concat(i),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onFocus:()=>c(!0),onBlur:()=>c(!1),tabIndex:0,...o,children:[a,l&&(0,n.createPortal)((0,t.jsxs)("span",{className:"z-[9999] fixed px-3 py-2 rounded bg-gray-900 text-gray-100 text-xs shadow-lg whitespace-pre-line min-w-max max-w-xs",style:{top:d.top,left:d.left,transform:"translateX(-50%)",pointerEvents:"none"},children:[s,(0,t.jsx)("span",{className:"absolute left-1/2 -translate-x-1/2 -top-2 w-3 h-3 bg-gray-900 rotate-45"})]}),document.body)]})}},980:function(e,s,a){"use strict";a.d(s,{Ct:function(){return d},zx:function(){return n},Zb:function(){return c},II:function(){return l},ko:function(){return m},FN:function(){return x},u:function(){return o.Z}});var t=a(5893),r=a(7294),n=e=>{let{children:s,variant:a="primary",size:r="md",disabled:n=!1,loading:i=!1,onClick:o,type:l="button",className:c="",...d}=e,m="".concat("font-semibold rounded-lg shadow transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-dark-900"," ").concat({primary:"bg-gradient-primary text-white hover:shadow-xl hover:scale-105 focus:ring-primary-500",secondary:"bg-surface-700 text-gray-200 border border-surface-600 hover:bg-surface-600 focus:ring-surface-500",outline:"border border-primary-500 text-primary-400 hover:bg-primary-900/20 focus:ring-primary-500",danger:"bg-error-600 text-white hover:bg-error-700 focus:ring-error-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500"}[a]," ").concat({sm:"px-4 py-2 text-sm",md:"px-6 py-2",lg:"px-8 py-3 text-lg"}[r]," ").concat(n||i?"opacity-50 cursor-not-allowed":""," ").concat(c);return(0,t.jsx)("button",{type:l,className:m,disabled:n||i,onClick:o,...d,children:i?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Loading..."]}):s})},i=a(5581),o=a(574),l=e=>{let{label:s,error:a,success:r,tooltip:n,icon:l,className:c="",...d}=e,m=a?"border-error-500 focus:ring-error-400":r?"border-success-500 focus:ring-success-400":"border-surface-600 focus:ring-primary-400 focus:border-primary-500",x="".concat("w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 transition-all duration-300 bg-surface-800 text-white placeholder-gray-400"," ").concat(m," ").concat(c);return(0,t.jsxs)("div",{className:"relative",children:[s&&(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2 flex items-center gap-1 text-white",children:[s,n&&(0,t.jsx)(o.Z,{text:n,children:(0,t.jsx)(i.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),(0,t.jsxs)("div",{className:"relative",children:[l&&(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(l,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)("input",{className:"".concat(x," ").concat(l?"pl-10":""),...d})]}),a&&(0,t.jsxs)("div",{className:"text-error-400 text-xs mt-1 flex items-center gap-1",children:[(0,t.jsx)("span",{children:"⚠"}),a]}),r&&(0,t.jsxs)("div",{className:"text-success-400 text-xs mt-1 flex items-center gap-1",children:[(0,t.jsx)("span",{children:"✓"}),r]})]})},c=e=>{let{children:s,title:a,subtitle:r,className:n="",padding:i="p-6",shadow:o="shadow-xl",...l}=e,c="".concat("card card-hover"," ").concat(o," ").concat(i," ").concat(n);return(0,t.jsxs)("div",{className:c,...l,children:[(a||r)&&(0,t.jsxs)("div",{className:"mb-4",children:[a&&(0,t.jsx)("h3",{className:"font-semibold text-lg text-white",children:a}),r&&(0,t.jsx)("p",{className:"text-sm text-gray-200 mt-1",children:r})]}),s]})},d=e=>{let{children:s,variant:a="default",size:r="md",className:n="",...i}=e,o="".concat("inline-flex items-center font-medium rounded-full"," ").concat({default:"bg-surface-700 text-gray-200",primary:"bg-primary-900/50 text-primary-300 border border-primary-700/50",success:"bg-success-900/50 text-success-300 border border-success-700/50",warning:"bg-warning-900/50 text-warning-300 border border-warning-700/50",danger:"bg-error-900/50 text-error-300 border border-error-700/50",info:"bg-primary-900/50 text-primary-300 border border-primary-700/50"}[a]," ").concat({sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-sm"}[r]," ").concat(n);return(0,t.jsx)("span",{className:o,...i,children:s})},m=e=>{let{value:s,max:a=100,color:r="primary",showLabel:n=!1,className:i="",...o}=e,l=Math.min(Math.max(s/a*100,0),100);return(0,t.jsxs)("div",{className:i,...o,children:[n&&(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-300 mb-1",children:[(0,t.jsx)("span",{children:"Progress"}),(0,t.jsxs)("span",{children:[Math.round(l),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-surface-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"".concat({primary:"bg-primary-600",secondary:"bg-secondary-600",success:"bg-success-600",warning:"bg-warning-600",error:"bg-error-600"}[r]," h-2 rounded-full transition-all duration-300"),style:{width:"".concat(l,"%")}})})]})},x=e=>{let{message:s,type:a="info",duration:n=5e3,onClose:o,className:l="",...c}=e;(0,r.useEffect)(()=>{if(n&&o){let e=setTimeout(o,n);return()=>clearTimeout(e)}},[n,o]);let d={success:i.KP3,error:i.SR5,warning:i.SR5,info:i.ocf}[a],m="".concat("fixed top-4 left-1/2 transform -translate-x-1/2 z-50 flex items-center gap-3 px-6 py-3 rounded-lg shadow-lg max-w-sm"," ").concat({success:"bg-green-600 text-white",error:"bg-red-600 text-white",warning:"bg-yellow-600 text-white",info:"bg-blue-600 text-white"}[a]," ").concat(l);return(0,t.jsxs)("div",{className:m,...c,children:[(0,t.jsx)(d,{className:"h-5 w-5 flex-shrink-0"}),(0,t.jsx)("span",{className:"flex-1",children:s}),o&&(0,t.jsx)("button",{onClick:o,className:"flex-shrink-0 hover:opacity-80 transition-opacity",children:(0,t.jsx)(i.oHP,{className:"h-4 w-4"})})]})}},9447:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return P},isStepComplete:function(){return L}});var t=a(5893),r=a(7294),n=a(1163),i=a(4078),o=e=>{let{children:s}=e,{isAuthenticated:a,loading:o}=(0,i.a)(),l=(0,n.useRouter)();return((0,r.useEffect)(()=>{o||a||l.push("/auth/login")},[a,o,l]),o)?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-100 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-secondary-600",children:"Loading..."})]})}):a?s:null},l=a(980),c=a(5581),d=e=>{let{agentName:s="AI Assistant",welcomeMessage:a="Hello! How can I help you today?",onSendMessage:n,disabled:i=!1,className:o="",...d}=e,[m,x]=(0,r.useState)([{id:1,type:"agent",content:a,timestamp:new Date}]),[u,h]=(0,r.useState)(""),[g,p]=(0,r.useState)(!1),b=(0,r.useRef)(null),[f,v]=(0,r.useState)(!1),j=(0,r.useRef)(null),y=()=>{var e;null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,r.useEffect)(()=>{y()},[m]),(0,r.useEffect)(()=>{if(!("webkitSpeechRecognition"in window||"SpeechRecognition"in window))return;let e=new(window.SpeechRecognition||window.webkitSpeechRecognition);e.lang="en-US",e.interimResults=!1,e.maxAlternatives=1,e.onresult=e=>{let s=e.results[0][0].transcript;h(e=>e+(e?" ":"")+s)},e.onend=()=>v(!1),e.onerror=()=>v(!1),j.current=e},[]),(0,r.useEffect)(()=>{if(m.length<1)return;let e=m[m.length-1];if("agent"===e.type&&"speechSynthesis"in window){let s=new window.SpeechSynthesisUtterance(e.content);s.lang="en-US",window.speechSynthesis.speak(s)}},[m]);let N=async()=>{if(!u.trim()||i)return;let e={id:Date.now(),type:"user",content:u.trim(),timestamp:new Date};x(s=>[...s,e]),h(""),p(!0);try{if(n){let s=await n(e.content),a={id:Date.now()+1,type:"agent",content:s,timestamp:new Date};x(e=>[...e,a])}}catch(s){console.error("Error sending message to AI agent:",s);let e={id:Date.now()+1,type:"agent",content:"I'm sorry, I couldn't get a response from the AI agent. Please try again later.",timestamp:new Date};x(s=>[...s,e])}finally{p(!1)}},w=e=>e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,t.jsxs)("div",{className:"flex flex-col h-96 bg-surface-800/50 rounded-lg border border-surface-600/50 ".concat(o),...d,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 border-b border-surface-600/50",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-primary-900/50 rounded-full flex items-center justify-center",children:(0,t.jsx)(c.LAw,{className:"w-4 h-4 text-primary-300"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-white",children:s}),(0,t.jsx)("div",{className:"text-xs text-green-400",children:"Online"})]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[m.map(e=>(0,t.jsxs)("div",{className:"flex ".concat("user"===e.type?"justify-end":"justify-start"),children:["agent"===e.type&&(0,t.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center flex-shrink-0 mr-3",children:(0,t.jsx)(c.LAw,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat("user"===e.type?"bg-primary-600 text-white rounded-br-none mr-3":"bg-surface-700 text-white border border-surface-600 rounded-bl-none"),children:[(0,t.jsx)("div",{className:"text-sm",children:e.content}),(0,t.jsx)("div",{className:"text-xs opacity-70 mt-1",children:w(e.timestamp)})]}),"user"===e.type&&(0,t.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(c.nf1,{className:"w-5 h-5 text-white"})})]},e.id)),g&&(0,t.jsxs)("div",{className:"flex gap-3 justify-start",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center flex-shrink-0 mr-3",children:(0,t.jsx)(c.LAw,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("div",{className:"bg-white text-gray-900 border border-gray-200 rounded-lg rounded-bl-none px-4 py-2",children:(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),(0,t.jsx)("div",{ref:b})]}),(0,t.jsx)("div",{className:"p-4 border-t border-surface-600/50",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),N())},placeholder:"Type your message...",disabled:i,className:"flex-1 bg-surface-800 text-white border border-surface-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-500 placeholder-gray-400 disabled:bg-gray-100 disabled:cursor-not-allowed"}),(0,t.jsx)(l.zx,{onClick:()=>{j.current&&(f?(j.current.stop(),v(!1)):(j.current.start(),v(!0)))},disabled:i||g,className:"px-3 ".concat(f?"bg-green-600":""),title:f?"Listening...":"Speak",children:(0,t.jsx)(c.UUX,{className:"w-5 h-5"})}),(0,t.jsx)(l.zx,{onClick:N,disabled:!u.trim()||i||g,className:"px-4",children:(0,t.jsx)(c.gYb,{className:"w-4 h-4"})})]})})]})},m=a(574),x=e=>{let{title:s,value:a,change:n,changeType:i="percentage",trend:o="up",icon:l,color:d="primary",tooltip:x,className:u="",...h}=e,g={primary:"text-primary-300",success:"text-success-300",warning:"text-warning-300",danger:"text-error-300",info:"text-primary-300"},p="".concat("card card-hover text-center"," ").concat(u);return(0,t.jsx)("div",{className:p,...h,children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[l?"string"==typeof l?(0,t.jsx)("span",{className:"text-3xl mr-2 ".concat(g[d]),children:l}):r.createElement(l,{className:"w-6 h-6 ".concat(g[d]," mr-2")}):null,(0,t.jsx)("div",{className:"text-2xl font-bold ".concat(g[d]),children:"number"==typeof a?a>=1e6?(a/1e6).toFixed(1)+"M":a>=1e3?(a/1e3).toFixed(1)+"K":a.toLocaleString():a})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-3",children:[(0,t.jsx)("span",{className:"text-gray-300",children:s}),x&&(0,t.jsx)(m.Z,{text:x,children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),void 0!==n&&(0,t.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 ".concat({up:"text-success-400",down:"text-error-400"}[o]),children:["up"===o?(0,t.jsx)(c.y1n,{className:"w-3 h-3"}):(0,t.jsx)(c.Duv,{className:"w-3 h-3"}),(0,t.jsxs)("span",{children:["percentage"===i?"".concat(n>0?"+":"").concat(n,"%"):n," vs last month"]})]})]})})};function u(e){var s,a,r;let{user:n,metrics:i,onboardingData:o,getOnboardingProgress:c,getStepTitle:d,setActiveTab:m}=e,u=c();return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2",children:["Welcome back, ",null==n?void 0:n.firstName,"!"]}),(0,t.jsx)("p",{className:"text-gray-300",children:"Here's what's happening with your AI agent today."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(x,{title:"Total Conversations",value:i.totalConversations,change:"",changeType:"none",icon:"\uD83D\uDCAC",tooltip:"Total number of conversations handled by your AI agent."}),(0,t.jsx)(x,{title:"Total Messages",value:i.totalMessages,change:"",changeType:"none",icon:"✉️",tooltip:"Total number of messages exchanged in conversations."}),(0,t.jsx)(x,{title:"Avg Message Length",value:"N/A"!==i.averageMessageLength?"".concat(i.averageMessageLength," chars"):"N/A",change:"",changeType:"none",icon:"\uD83D\uDCDD",tooltip:"Average character length of messages in conversations."}),(0,t.jsx)(x,{title:"Active Agents",value:i.activeAgents,change:"",changeType:"none",icon:"\uD83E\uDD16",tooltip:"Number of AI agents currently active for your business. (Placeholder)"})]}),(0,t.jsx)(l.Zb,{title:"Company Information",subtitle:"Your business details",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Company Name"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-white",children:(null==n?void 0:null===(s=n.company)||void 0===s?void 0:s.name)||"Not set"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Website"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-white",children:(null==n?void 0:null===(a=n.company)||void 0===a?void 0:a.website)||"Not set"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Industry"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-white",children:(null==n?void 0:null===(r=n.company)||void 0===r?void 0:r.industry)||"Not set"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Email"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-white",children:null==n?void 0:n.email})]})]})}),(0,t.jsx)(l.Zb,{title:"Onboarding Progress",subtitle:"Complete your AI agent setup",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-white",children:"Setup Progress"}),(0,t.jsxs)("span",{className:"text-sm text-gray-300",children:[u,"% Complete"]})]}),(0,t.jsx)(l.ko,{value:u,max:100,className:"h-3",color:100===u?"success":"primary"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[1,2,3,4,5].map(e=>{let s=L(e,o);return(0,t.jsxs)("div",{className:"text-center p-3 rounded-lg border transition-all ".concat(s?"bg-success-900/30 border-success-700/50 text-success-300":"bg-surface-700/50 border-surface-600/50 text-gray-400"),children:[(0,t.jsx)("div",{className:"text-lg mb-1",children:s?"✓":e}),(0,t.jsx)("div",{className:"text-xs",children:d(e)})]},e)})}),u<100&&(0,t.jsx)("div",{className:"text-center pt-4",children:(0,t.jsx)(l.zx,{onClick:()=>m("onboarding"),className:"btn-primary",children:"Continue Setup"})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(l.Zb,{className:"card card-hover",children:(0,t.jsxs)("div",{className:"p-6 text-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-primary-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD16"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"View Agent"}),(0,t.jsx)("p",{className:"text-sm text-gray-300 mb-4",children:"Check your AI agent's status and performance"}),(0,t.jsx)(l.zx,{onClick:()=>m("agents"),variant:"outline",className:"w-full border-primary-500 text-primary-400 hover:bg-primary-900/20",children:"Go to Agents"})]})}),(0,t.jsx)(l.Zb,{className:"card card-hover",children:(0,t.jsxs)("div",{className:"p-6 text-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-accent-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCAC"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Live Chat"}),(0,t.jsx)("p",{className:"text-sm text-gray-300 mb-4",children:"Monitor conversations and chat with your agent"}),(0,t.jsx)(l.zx,{onClick:()=>m("conversations"),variant:"outline",className:"w-full border-accent-500 text-accent-400 hover:bg-accent-900/20",children:"View Conversations"})]})}),(0,t.jsx)(l.Zb,{className:"card card-hover",children:(0,t.jsxs)("div",{className:"p-6 text-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-success-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCCA"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Analytics"}),(0,t.jsx)("p",{className:"text-sm text-gray-300 mb-4",children:"View detailed analytics and performance metrics"}),(0,t.jsx)(l.zx,{onClick:()=>m("analytics"),variant:"outline",className:"w-full border-success-500 text-success-400 hover:bg-success-900/20",children:"View Analytics"})]})})]})]})}var h=e=>{let{onboardingData:s,getOnboardingProgress:a,getStepTitle:r,setActiveTab:n}=e,i=a();return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"AI Agent Onboarding"}),(0,t.jsx)("p",{className:"text-gray-300 max-w-2xl mx-auto",children:"Complete the onboarding process to configure your AI agent with your business information, knowledge base, and preferences."})]}),(0,t.jsx)(l.Zb,{className:"card card-hover",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Your Progress"}),(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:[a(),"% Complete"]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(l.ko,{value:i,max:100,className:"h-3",color:100===i?"success":"primary"})}),(0,t.jsx)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-5 gap-4",children:[1,2,3,4,5].map(e=>{let a=L(e,s),n=!a&&e===Math.ceil(i/20);return(0,t.jsxs)("div",{className:"text-center p-4 rounded-lg border transition-all duration-300 ".concat(a?"bg-success-900/30 border-success-700/50 text-success-300":n?"bg-primary-900/30 border-primary-700/50 text-primary-300":"bg-surface-700/50 border-surface-600/50 text-gray-400"),children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:a?"✓":e}),(0,t.jsx)("div",{className:"text-xs font-medium",children:r(e)}),(0,t.jsx)("div",{className:"text-xs mt-1",children:a?"Complete":n?"Current":"Pending"})]},e)})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(l.Zb,{className:"card card-hover",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h5",{className:"font-semibold text-white mb-2",children:r(1)}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Set up your business profile, industry type, and contact information."}),(0,t.jsx)(l.zx,{onClick:()=>n("settings"),className:"mt-4 btn-primary",children:"Configure Business Info"})]})}),(0,t.jsx)(l.Zb,{className:"card card-hover",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h5",{className:"font-semibold text-white mb-2",children:r(2)}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Upload documents, crawl your website, and build your knowledge base."}),(0,t.jsx)(l.zx,{onClick:()=>n("settings"),className:"mt-4 btn-primary",children:"Upload Files"})]})})]}),i<100&&(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(l.zx,{onClick:()=>n("settings"),className:"btn-primary",size:"lg",children:"Continue Onboarding"})}),100===i&&(0,t.jsx)(l.Zb,{className:"card card-hover border-success-500/30",children:(0,t.jsxs)("div",{className:"p-6 text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDF89"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Onboarding Complete!"}),(0,t.jsx)("p",{className:"text-gray-300 mb-4",children:"Your AI agent is fully configured and ready to help your customers."}),(0,t.jsx)(l.zx,{onClick:()=>n("agents"),className:"bg-success-600 hover:bg-success-700",children:"View Your Agent"})]})})]})};function g(e){var s,a,n,i,o,d,x,u,h,g,p,b,f,v,j,y,N,w,D,k,C,I,A,S,T,E,L,M,P,U,R,H,B,Z,z,F,O,W,K,Y,q,V,G,_,J,X;let{settings:Q,setSettings:$,onSave:ee,loading:es}=e,[ea,et]=(0,r.useState)(1),[er,en]=(0,r.useState)(""),[ei,eo]=(0,r.useState)({}),[el,ec]=(0,r.useState)(!1),[ed,em]=(0,r.useState)(!1),[ex,eu]=(0,r.useState)(!1),eh=async e=>{var s,a;if(0===e.length)return;ec(!0);let t=[...(null===(s=Q.onboardingData.step2)||void 0===s?void 0:s.files)||[]];try{for(let s of e){let e=new FormData;e.append("file",s);let r=await fetch("".concat("https://knowing-tax-production.up.railway.app/api","/files/upload"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:e});if(!r.ok)throw Error("Failed to upload ".concat(s.name,": ").concat(r.statusText));let n=await r.json();n.success&&(null===(a=n.asset)||void 0===a?void 0:a.fileUrl)?t.push(n.asset.fileUrl):console.error("Upload response missing fileUrl or success was false:",n)}$(e=>({...e,onboardingData:{...e.onboardingData,step2:{...e.onboardingData.step2,files:t}}}))}catch(e){console.error("Error during file upload:",e)}finally{ec(!1)}},eg=async e=>{eh(Array.from(e.target.files||[]))},ep=e=>{$(s=>({...s,onboardingData:{...s.onboardingData,step2:{...s.onboardingData.step2,files:s.onboardingData.step2.files.filter(s=>s!==e)}}}))},eb=async()=>{var e;let s=null===(e=Q.onboardingData.step2)||void 0===e?void 0:e.crawlUrl;if(!s){eo(e=>({...e,crawlUrl:"Website URL to Crawl is required."}));return}em(!0),eo(e=>({...e,crawlUrl:void 0}));try{let e=await fetch("".concat("https://knowing-tax-production.up.railway.app/api","/files/crawl"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({url:s})});if(!e.ok){let s=await e.json();throw Error(s.message||"Failed to crawl website")}let a=await e.json();console.log("Crawl successful:",a)}catch(e){console.error("Error during website crawl:",e),eo(s=>({...s,crawlUrl:e.message}))}finally{em(!1)}},ef=async()=>{var e;let s=null===(e=Q.onboardingData.step2)||void 0===e?void 0:e.newDocLink;if(!s){eo(e=>({...e,newDocLink:"Document link URL is required."}));return}eu(!0),eo(e=>({...e,newDocLink:void 0}));try{let e=await fetch("".concat("https://knowing-tax-production.up.railway.app/api","/files/doclink"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({url:s})});if(!e.ok){let s=await e.json();throw Error(s.message||"Failed to fetch document link content")}let a=await e.json();console.log("Doc link fetch successful:",a),$(e=>{var a;return{...e,onboardingData:{...e.onboardingData,step2:{...e.onboardingData.step2,files:[...(null===(a=e.onboardingData.step2)||void 0===a?void 0:a.files)||[],s]}}}}),$(e=>({...e,onboardingData:{...e.onboardingData,step2:{...e.onboardingData.step2,newDocLink:""}}}))}catch(e){console.error("Error during document link fetch:",e),eo(s=>({...s,newDocLink:e.message}))}finally{eu(!1)}},ev=(e,s)=>{$(a=>{var t;return{...a,onboardingData:{...a.onboardingData,step1:{...a.onboardingData.step1,socials:{...null===(t=a.onboardingData.step1)||void 0===t?void 0:t.socials,[e]:s}}}}})},ej=e=>{var s;let a=(null===(s=Q.onboardingData.step3)||void 0===s?void 0:s.objectives)||[],t=a.includes(e)?a.filter(s=>s!==e):[...a,e];$(e=>({...e,onboardingData:{...e.onboardingData,step3:{...e.onboardingData.step3,objectives:t}}}))},[ey,eN]=(0,r.useState)(!1);return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(l.Zb,{title:"AI Agent Onboarding",subtitle:"Complete all steps to set up your agent",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-8",children:[1,2,3,4,5].map(e=>(0,t.jsxs)("button",{className:"flex-1 py-2 rounded-lg mx-1 font-semibold transition-all ".concat(ea===e?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-primary-100"),onClick:()=>et(e),children:["Step ",e]},e))}),(0,t.jsxs)("div",{className:"mt-4",children:[1===ea&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(c.nf1,{className:"w-5 h-5 text-primary-600"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Business Profile & Industry Type"})]}),(0,t.jsx)("p",{className:"text-gray-300 mb-6",children:"Start by providing your business information and selecting your industry type to help customize your AI agent."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:"Business Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(l.II,{label:(0,t.jsxs)("span",{children:["Business Name ",(0,t.jsx)("span",{className:"text-error-400",children:"*"})," ",(0,t.jsx)(m.Z,{text:"The official name of your business or organization.",children:(0,t.jsx)(c.ocf,{className:"inline w-4 h-4 text-primary-200 ml-1 cursor-pointer"})})]}),value:(null===(s=Q.onboardingData.step1)||void 0===s?void 0:s.businessName)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step1:{...s.onboardingData.step1,businessName:e.target.value}}})),placeholder:"Your Business Name"}),ei.businessName&&(0,t.jsx)("div",{className:"text-error-400 text-xs mt-1",children:ei.businessName}),(0,t.jsx)(l.II,{label:(0,t.jsxs)("span",{children:["Website ",(0,t.jsx)(m.Z,{text:"Your business's main website URL.",children:(0,t.jsx)(c.ocf,{className:"inline w-4 h-4 text-primary-200 ml-1 cursor-pointer"})})]}),value:(null===(a=Q.onboardingData.step1)||void 0===a?void 0:a.website)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step1:{...s.onboardingData.step1,website:e.target.value}}})),placeholder:"https://yourbusiness.com"}),(0,t.jsx)(l.II,{label:(0,t.jsxs)("span",{children:["Email ",(0,t.jsx)("span",{className:"text-error-400",children:"*"})," ",(0,t.jsx)(m.Z,{text:"A contact email for your business.",children:(0,t.jsx)(c.ocf,{className:"inline w-4 h-4 text-primary-200 ml-1 cursor-pointer"})})]}),type:"email",value:(null===(n=Q.onboardingData.step1)||void 0===n?void 0:n.email)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step1:{...s.onboardingData.step1,email:e.target.value}}})),placeholder:"contact@yourbusiness.com"}),ei.email&&(0,t.jsx)("div",{className:"text-error-400 text-xs mt-1",children:ei.email}),(0,t.jsx)(l.II,{label:(0,t.jsxs)("span",{children:["Phone ",(0,t.jsx)(m.Z,{text:"A contact phone number for your business.",children:(0,t.jsx)(c.ocf,{className:"inline w-4 h-4 text-primary-200 ml-1 cursor-pointer"})})]}),value:(null===(i=Q.onboardingData.step1)||void 0===i?void 0:i.phone)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step1:{...s.onboardingData.step1,phone:e.target.value}}})),placeholder:"+1 (555) 123-4567"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Industry ",(0,t.jsx)("span",{className:"text-error-400",children:"*"})," ",(0,t.jsx)(m.Z,{text:"Select the industry that best describes your business.",children:(0,t.jsx)(c.ocf,{className:"inline w-4 h-4 text-primary-200 ml-1 cursor-pointer"})})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Healthcare","Finance","E-commerce","Real Estate","Education","Technology","Legal","Consulting","Manufacturing","Retail","Hospitality","Other"].map(e=>{var s;return(0,t.jsx)("button",{onClick:()=>$(s=>({...s,onboardingData:{...s.onboardingData,step1:{...s.onboardingData.step1,industry:e}}})),className:"p-3 rounded-lg border text-sm font-medium transition-all ".concat((null===(s=Q.onboardingData.step1)||void 0===s?void 0:s.industry)===e?"bg-primary-900/30 border-primary-500 text-primary-300":"bg-surface-700/50 border-surface-600 text-gray-300 hover:bg-surface-600/50"),children:e},e)})}),ei.industry&&(0,t.jsx)("div",{className:"text-error-400 text-xs mt-1",children:ei.industry})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:"Social Media Links"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Add your social media profiles to help your AI agent understand your brand better."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(l.II,{label:"Facebook",value:(null===(d=Q.onboardingData.step1)||void 0===d?void 0:null===(o=d.socials)||void 0===o?void 0:o.facebook)||"",onChange:e=>ev("facebook",e.target.value),placeholder:"https://facebook.com/yourbusiness"}),(0,t.jsx)(l.II,{label:"Instagram",value:(null===(u=Q.onboardingData.step1)||void 0===u?void 0:null===(x=u.socials)||void 0===x?void 0:x.instagram)||"",onChange:e=>ev("instagram",e.target.value),placeholder:"https://instagram.com/yourbusiness"}),(0,t.jsx)(l.II,{label:"LinkedIn",value:(null===(g=Q.onboardingData.step1)||void 0===g?void 0:null===(h=g.socials)||void 0===h?void 0:h.linkedin)||"",onChange:e=>ev("linkedin",e.target.value),placeholder:"https://linkedin.com/company/yourbusiness"}),(0,t.jsx)(l.II,{label:"Twitter",value:(null===(b=Q.onboardingData.step1)||void 0===b?void 0:null===(p=b.socials)||void 0===p?void 0:p.twitter)||"",onChange:e=>ev("twitter",e.target.value),placeholder:"https://twitter.com/yourbusiness"})]})]})]}),2===ea&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(c.aBR,{className:"w-5 h-5 text-primary-600"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Upload Business Assets"})]}),(0,t.jsx)("p",{className:"text-gray-300 mb-6",children:"Upload your business documents, files, and website content to train your AI agent with your specific knowledge."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h4",{className:"font-semibold text-white",children:["Upload Business Files ",(0,t.jsx)("span",{className:"text-error-400",children:"*"})," ",(0,t.jsx)(m.Z,{text:"Upload files that represent your business knowledge (PDF, DOCX, TXT, CSV).",children:(0,t.jsx)(c.ocf,{className:"inline w-4 h-4 text-primary-200 ml-1 cursor-pointer"})})]}),(0,t.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-6 text-center transition-all cursor-pointer ".concat(ey?"border-primary-500 bg-surface-700/50":"border-surface-600/50"),onDragOver:e=>{e.preventDefault(),eN(!0)},onDragLeave:()=>{eN(!1)},onDrop:e=>{e.preventDefault(),eN(!1),eh(Array.from(e.dataTransfer.files||[]))},onClick:()=>document.getElementById("file-upload-input").click(),children:[(0,t.jsx)(c.aBR,{className:"w-12 h-12 mx-auto text-primary-400 mb-3"}),(0,t.jsx)("p",{className:"text-white mb-2",children:"Drag and drop files here, or click to browse"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Supported formats: PDF, DOC, DOCX, TXT, CSV (Max 10MB each)"}),(0,t.jsx)("input",{id:"file-upload-input",type:"file",multiple:!0,accept:".pdf,.doc,.docx,.txt,.csv",onChange:eg,className:"hidden"}),(0,t.jsx)(l.zx,{onClick:()=>document.getElementById("file-upload-input").click(),className:"mt-4",children:"Choose Files"})]}),(null===(v=Q.onboardingData.step2)||void 0===v?void 0:null===(f=v.files)||void 0===f?void 0:f.length)>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h5",{className:"font-medium text-white",children:"Uploaded Files:"}),(0,t.jsx)("ul",{className:"space-y-1",children:Q.onboardingData.step2.files.map((e,s)=>(0,t.jsxs)("li",{className:"text-sm text-gray-300 flex items-center gap-2",children:[(0,t.jsx)(c.opy,{className:"w-4 h-4"}),e,(0,t.jsx)("button",{onClick:()=>ep(e),className:"ml-2 text-error-400 hover:text-error-300",title:"Remove file",children:(0,t.jsx)(c.oHP,{className:"w-4 h-4"})})]},s))})]}),ei.files&&(0,t.jsx)("div",{className:"text-error-400 text-xs mt-1",children:ei.files})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:"Website Content"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(l.II,{label:(0,t.jsxs)("span",{children:["Website URL to Crawl ",(0,t.jsx)(m.Z,{text:"Enter your website URL to automatically extract content for your agent.",children:(0,t.jsx)(c.ocf,{className:"inline w-4 h-4 text-primary-200 ml-1 cursor-pointer"})})]}),value:(null===(j=Q.onboardingData.step2)||void 0===j?void 0:j.crawlUrl)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step2:{...s.onboardingData.step2,crawlUrl:e.target.value}}})),placeholder:"https://yourbusiness.com"}),ei.crawlUrl&&(0,t.jsx)("div",{className:"text-error-400 text-xs mt-1",children:ei.crawlUrl}),(0,t.jsx)(l.zx,{onClick:eb,loading:ed,disabled:ed,className:"btn-primary mt-2",children:ed?"Crawling...":"Crawl Website"}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:(null===(y=Q.onboardingData.step2)||void 0===y?void 0:y.crawl)||!1,onChange:e=>$(s=>{var a;return{...s,onboardingData:{...s.onboardingData,step2:{...s.onboardingData.step2,crawl:e.target.checked,crawlUrl:e.target.checked?null===(a=s.onboardingData.step2)||void 0===a?void 0:a.crawlUrl:""}}}}),className:"rounded border-surface-600 text-primary-600 focus:ring-primary-500 bg-surface-800"}),(0,t.jsx)("span",{className:"ml-2 text-gray-300",children:"Enable automatic website crawling"})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:"Add Document Link"}),(0,t.jsx)(l.II,{label:(0,t.jsxs)("span",{children:["Public Document URL ",(0,t.jsx)(m.Z,{text:"Enter a public URL to a document (e.g., Google Docs, public Notion page) to extract its content.",children:(0,t.jsx)(c.ocf,{className:"inline w-4 h-4 text-primary-200 ml-1 cursor-pointer"})})]}),value:(null===(N=Q.onboardingData.step2)||void 0===N?void 0:N.newDocLink)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step2:{...s.onboardingData.step2,newDocLink:e.target.value}}})),placeholder:"https://docs.google.com/document/d/.../pub"}),ei.newDocLink&&(0,t.jsx)("div",{className:"text-error-400 text-xs mt-1",children:ei.newDocLink}),(0,t.jsx)(l.zx,{onClick:ef,loading:ex,disabled:ex,className:"btn-primary mt-2",children:ex?"Adding...":"Add Document Link"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:"Additional Information"}),(0,t.jsx)("textarea",{value:(null===(w=Q.onboardingData.step2)||void 0===w?void 0:w.additionalInfo)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step2:{...s.onboardingData.step2,additionalInfo:e.target.value}}})),placeholder:"Enter any additional information about your business, services, or frequently asked questions...",className:"w-full h-32 bg-surface-800 border border-surface-600 text-white placeholder-gray-400 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-500"}),(0,t.jsx)(m.Z,{text:"Add any extra details that will help your agent answer questions.",children:(0,t.jsx)(c.ocf,{className:"inline w-4 h-4 text-primary-200 ml-1 cursor-pointer"})})]})]}),3===ea&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(c.LAw,{className:"w-5 h-5 text-primary-600"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Define Agent Purpose & Personality"})]}),(0,t.jsx)("p",{className:"text-gray-300 mb-6",children:"Configure your AI agent's objectives, personality, and behavior to match your business needs and brand voice."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h4",{className:"font-semibold text-white",children:["Primary Objective(s) ",(0,t.jsx)("span",{className:"text-error-400",children:"*"})," ",(0,t.jsx)(m.Z,{text:"Select the main goals for your AI agent (e.g., support, sales, lead gen).",children:(0,t.jsx)(c.ocf,{className:"inline w-4 h-4 text-primary-200 ml-1 cursor-pointer"})})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Customer Support","Lead Generation","Sales Assistance","Appointment Booking","Product Information","FAQ Handling","Technical Support","Order Processing"].map(e=>{var s,a;return(0,t.jsx)("button",{onClick:()=>ej(e),className:"p-3 rounded-lg border text-sm font-medium transition-all ".concat((null===(a=Q.onboardingData.step3)||void 0===a?void 0:null===(s=a.objectives)||void 0===s?void 0:s.includes(e))?"bg-primary-900/30 border-primary-500 text-primary-300":"bg-surface-700/50 border-surface-600 text-gray-300 hover:bg-surface-600/50"),children:e},e)})}),ei.objectives&&(0,t.jsx)("div",{className:"text-error-400 text-xs mt-1",children:ei.objectives})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:"Bot Voice & Personality"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Personality ",(0,t.jsx)("span",{className:"text-error-400",children:"*"})," ",(0,t.jsx)(m.Z,{text:"Choose the personality style for your AI agent.",children:(0,t.jsx)(c.ocf,{className:"inline w-4 h-4 text-primary-200 ml-1 cursor-pointer"})})]}),(0,t.jsxs)("select",{value:(null===(D=Q.onboardingData.step3)||void 0===D?void 0:D.personality)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step3:{...s.onboardingData.step3,personality:e.target.value}}})),className:"w-full bg-surface-800 border border-surface-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-500",children:[(0,t.jsx)("option",{value:"",children:"Select personality"}),(0,t.jsx)("option",{value:"Professional",children:"Professional & Formal"}),(0,t.jsx)("option",{value:"Friendly",children:"Friendly & Conversational"}),(0,t.jsx)("option",{value:"Casual",children:"Casual & Relaxed"}),(0,t.jsx)("option",{value:"Enthusiastic",children:"Enthusiastic & Energetic"}),(0,t.jsx)("option",{value:"Custom",children:"Custom"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Tone"}),(0,t.jsxs)("select",{value:(null===(k=Q.onboardingData.step3)||void 0===k?void 0:k.tone)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step3:{...s.onboardingData.step3,tone:e.target.value}}})),className:"w-full bg-surface-800 border border-surface-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-500",children:[(0,t.jsx)("option",{value:"",children:"Select tone"}),(0,t.jsx)("option",{value:"Helpful",children:"Helpful"}),(0,t.jsx)("option",{value:"Informative",children:"Informative"}),(0,t.jsx)("option",{value:"Persuasive",children:"Persuasive"}),(0,t.jsx)("option",{value:"Empathetic",children:"Empathetic"}),(0,t.jsx)("option",{value:"Direct",children:"Direct"})]})]})]}),(null===(C=Q.onboardingData.step3)||void 0===C?void 0:C.personality)==="Custom"&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Custom Personality Description"}),(0,t.jsx)("textarea",{value:(null===(I=Q.onboardingData.step3)||void 0===I?void 0:I.customPersonality)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step3:{...s.onboardingData.step3,customPersonality:e.target.value}}})),placeholder:"Describe your AI agent's personality, communication style, and how it should interact with customers...",className:"w-full h-24 bg-surface-800 border border-surface-600 text-white placeholder-gray-400 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-500"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:"Top 3 Services or Offers"}),(0,t.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>{var s,a;return(0,t.jsx)(l.II,{label:"Service/Offer ".concat(e),value:(null===(a=Q.onboardingData.step3)||void 0===a?void 0:null===(s=a.services)||void 0===s?void 0:s[e-1])||"",onChange:s=>{var a;let t=[...(null===(a=Q.onboardingData.step3)||void 0===a?void 0:a.services)||[]];t[e-1]=s.target.value,$(e=>({...e,onboardingData:{...e.onboardingData,step3:{...e.onboardingData.step3,services:t}}}))},placeholder:"Describe your ".concat(1===e?"primary":2===e?"secondary":"tertiary"," service or offer")},e)})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:"Fallback Behavior"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"When AI can't help"}),(0,t.jsxs)("select",{value:(null===(A=Q.onboardingData.step3)||void 0===A?void 0:A.fallbackBehavior)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step3:{...s.onboardingData.step3,fallbackBehavior:e.target.value}}})),className:"w-full bg-surface-800 border border-surface-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-500",children:[(0,t.jsx)("option",{value:"",children:"Select behavior"}),(0,t.jsx)("option",{value:"human",children:"Transfer to human agent"}),(0,t.jsx)("option",{value:"email",children:"Collect email for follow-up"}),(0,t.jsx)("option",{value:"phone",children:"Provide phone number"}),(0,t.jsx)("option",{value:"schedule",children:"Schedule a call"})]})]}),(0,t.jsx)(l.II,{label:"Fallback Message",value:(null===(S=Q.onboardingData.step3)||void 0===S?void 0:S.fallbackMessage)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step3:{...s.onboardingData.step3,fallbackMessage:e.target.value}}})),placeholder:"I'll connect you with a human representative shortly."})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:"Business Hours"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Operating Hours"}),(0,t.jsxs)("select",{value:(null===(T=Q.onboardingData.step3)||void 0===T?void 0:T.businessHours)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step3:{...s.onboardingData.step3,businessHours:e.target.value}}})),className:"w-full bg-surface-800 border border-surface-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-500",children:[(0,t.jsx)("option",{value:"",children:"Select hours"}),(0,t.jsx)("option",{value:"24/7",children:"24/7 Available"}),(0,t.jsx)("option",{value:"business",children:"Business Hours (9 AM - 5 PM)"}),(0,t.jsx)("option",{value:"extended",children:"Extended Hours (8 AM - 8 PM)"}),(0,t.jsx)("option",{value:"weekend",children:"Weekend Support"}),(0,t.jsx)("option",{value:"custom",children:"Custom Hours"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Time Zone"}),(0,t.jsxs)("select",{value:(null===(E=Q.onboardingData.step3)||void 0===E?void 0:E.timezone)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step3:{...s.onboardingData.step3,timezone:e.target.value}}})),className:"w-full bg-surface-800 border border-surface-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-500",children:[(0,t.jsx)("option",{value:"",children:"Select timezone"}),(0,t.jsx)("option",{value:"EST",children:"Eastern Time (EST)"}),(0,t.jsx)("option",{value:"CST",children:"Central Time (CST)"}),(0,t.jsx)("option",{value:"MST",children:"Mountain Time (MST)"}),(0,t.jsx)("option",{value:"PST",children:"Pacific Time (PST)"}),(0,t.jsx)("option",{value:"UTC",children:"UTC"})]})]})]})]})]}),4===ea&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(c.Nhm,{className:"w-5 h-5 text-primary-600"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Voice Settings & Preview"})]}),(0,t.jsx)("p",{className:"text-gray-300 mb-6",children:"Configure voice settings for your AI agent and preview how it will sound to your customers."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:"Voice Bot Configuration"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-surface-700/50 rounded-lg border border-surface-600/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-medium text-white",children:["Enable Voice Bot ",(0,t.jsx)("span",{className:"text-error-400",children:"*"})," ",(0,t.jsx)(m.Z,{text:"Enable or disable voice bot features for your agent.",children:(0,t.jsx)(c.ocf,{className:"inline w-4 h-4 text-primary-200 ml-1 cursor-pointer"})})]}),(0,t.jsx)("div",{className:"text-sm text-gray-300",children:"Allow customers to call and speak with your AI agent"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:(null===(L=Q.onboardingData.step4)||void 0===L?void 0:L.voiceBotEnabled)||!1,onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step4:{...s.onboardingData.step4,voiceBotEnabled:e.target.checked}}})),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-surface-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-surface-700/50 rounded-lg border border-surface-600/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-white",children:"Text-to-Speech"}),(0,t.jsx)("div",{className:"text-sm text-gray-300",children:"Convert AI responses to speech"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:(null===(M=Q.onboardingData.step4)||void 0===M?void 0:M.textToSpeech)||!1,onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step4:{...s.onboardingData.step4,textToSpeech:e.target.checked}}})),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-surface-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-surface-700/50 rounded-lg border border-surface-600/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-white",children:"Speech-to-Text"}),(0,t.jsx)("div",{className:"text-sm text-gray-300",children:"Convert customer speech to text"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:(null===(P=Q.onboardingData.step4)||void 0===P?void 0:P.speechToText)||!1,onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step4:{...s.onboardingData.step4,speechToText:e.target.checked}}})),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-surface-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]}),(null===(U=Q.onboardingData.step4)||void 0===U?void 0:U.voiceBotEnabled)&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:"Voice Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Voice"}),(0,t.jsxs)("select",{value:(null===(R=Q.onboardingData.step4)||void 0===R?void 0:R.voice)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step4:{...s.onboardingData.step4,voice:e.target.value}}})),className:"w-full bg-surface-800 border border-surface-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-500",children:[(0,t.jsx)("option",{value:"",children:"Select voice"}),(0,t.jsx)("option",{value:"male",children:"Male"}),(0,t.jsx)("option",{value:"female",children:"Female"}),(0,t.jsx)("option",{value:"neutral",children:"Neutral"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Speed"}),(0,t.jsxs)("select",{value:(null===(H=Q.onboardingData.step4)||void 0===H?void 0:H.speed)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step4:{...s.onboardingData.step4,speed:e.target.value}}})),className:"w-full bg-surface-800 border border-surface-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-500",children:[(0,t.jsx)("option",{value:"",children:"Select speed"}),(0,t.jsx)("option",{value:"slow",children:"Slow"}),(0,t.jsx)("option",{value:"normal",children:"Normal"}),(0,t.jsx)("option",{value:"fast",children:"Fast"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:"Live Preview"}),(0,t.jsxs)("div",{className:"border border-surface-600/50 rounded-lg p-4 bg-surface-800/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-primary-900/50 rounded-full flex items-center justify-center",children:(0,t.jsx)(c.LAw,{className:"w-4 h-4 text-primary-300"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-white",children:(null===(B=Q.onboardingData.step1)||void 0===B?void 0:B.businessName)||"Your Business"}),(0,t.jsx)("div",{className:"text-sm text-gray-300",children:"AI Agent"})]})]}),(0,t.jsx)("div",{className:"text-sm text-gray-300",children:(null===(Z=Q.onboardingData.step3)||void 0===Z?void 0:Z.personality)==="Custom"?null===(z=Q.onboardingData.step3)||void 0===z?void 0:z.customPersonality:(null===(F=Q.onboardingData.step3)||void 0===F?void 0:F.personality)||"Friendly & Conversational"}),(0,t.jsxs)("div",{className:"mt-3 text-xs text-gray-400",children:["Voice: ",(null===(O=Q.onboardingData.step4)||void 0===O?void 0:O.voice)||"Default"," | Speed: ",(null===(W=Q.onboardingData.step4)||void 0===W?void 0:W.speed)||"Normal"]})]})]})]}),5===ea&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(c.HmR,{className:"w-5 h-5 text-primary-600"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Deployment & Success"})]}),(0,t.jsx)("p",{className:"text-gray-300 mb-6",children:"Your AI agent is ready to deploy! Review the final settings and get your integration links."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:"Deployment Configuration"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(l.II,{label:(0,t.jsxs)("span",{children:["Agent Name ",(0,t.jsx)("span",{className:"text-error-400",children:"*"})," ",(0,t.jsx)(m.Z,{text:"The display name for your AI agent.",children:(0,t.jsx)(c.ocf,{className:"inline w-4 h-4 text-primary-200 ml-1 cursor-pointer"})})]}),value:(null===(K=Q.onboardingData.step5)||void 0===K?void 0:K.agentName)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step5:{...s.onboardingData.step5,agentName:e.target.value}}})),placeholder:"AI Assistant"}),ei.agentName&&(0,t.jsx)("div",{className:"text-error-400 text-xs mt-1",children:ei.agentName}),(0,t.jsx)(l.II,{label:(0,t.jsxs)("span",{children:["Chat URL ",(0,t.jsx)("span",{className:"text-error-400",children:"*"})," ",(0,t.jsx)(m.Z,{text:"The URL where users can chat with your agent.",children:(0,t.jsx)(c.ocf,{className:"inline w-4 h-4 text-primary-200 ml-1 cursor-pointer"})})]}),value:(null===(Y=Q.onboardingData.step5)||void 0===Y?void 0:Y.chatUrl)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step5:{...s.onboardingData.step5,chatUrl:e.target.value}}})),placeholder:"https://chat.yourdomain.com"}),ei.chatUrl&&(0,t.jsx)("div",{className:"text-error-400 text-xs mt-1",children:ei.chatUrl}),(0,t.jsx)(l.II,{label:"Phone Number",value:(null===(q=Q.onboardingData.step5)||void 0===q?void 0:q.phoneNumber)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step5:{...s.onboardingData.step5,phoneNumber:e.target.value}}})),placeholder:"+1-555-AI-AGENT"}),(0,t.jsx)(l.II,{label:"Dashboard URL",value:(null===(V=Q.onboardingData.step5)||void 0===V?void 0:V.dashboardUrl)||"",onChange:e=>$(s=>({...s,onboardingData:{...s.onboardingData,step5:{...s.onboardingData.step5,dashboardUrl:e.target.value}}})),placeholder:"https://dashboard.yourdomain.com"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:"Agent Status"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-success-900/30 rounded-lg border border-success-700/50",children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:"\uD83E\uDD16"}),(0,t.jsx)("div",{className:"font-semibold text-success-300",children:"Agent"}),(0,t.jsx)("div",{className:"text-sm text-success-400",children:(null===(G=Q.onboardingData.step5)||void 0===G?void 0:G.agentName)?"Live":"Not Live"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-primary-900/30 rounded-lg border border-primary-700/50",children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:"\uD83E\uDDE0"}),(0,t.jsx)("div",{className:"font-semibold text-primary-300",children:"Training"}),(0,t.jsx)("div",{className:"text-sm text-primary-400",children:(null===(J=Q.onboardingData.step2)||void 0===J?void 0:null===(_=J.files)||void 0===_?void 0:_.length)>0?"Complete":"Pending"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-accent-900/30 rounded-lg border border-accent-700/50",children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDD17"}),(0,t.jsx)("div",{className:"font-semibold text-accent-300",children:"Integration"}),(0,t.jsx)("div",{className:"text-sm text-accent-400",children:(null===(X=Q.onboardingData.step5)||void 0===X?void 0:X.chatUrl)?"Connected":"Not Connected"})]})]})]}),(0,t.jsxs)("div",{className:"bg-success-900/30 border border-success-700/50 rounded-lg p-6 text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDF89"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Your AI Agent is Ready!"}),(0,t.jsx)("p",{className:"text-gray-300 mb-4",children:"All configuration steps are complete. Your AI agent is ready to go live and start helping your customers."}),(0,t.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,t.jsx)(l.zx,{variant:"outline",className:"border-success-500 text-success-400 hover:bg-success-900/20",children:"Schedule Demo"}),(0,t.jsx)(l.zx,{className:"bg-success-600 hover:bg-success-700",children:"Go Live Now"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,t.jsx)(l.zx,{variant:"outline",disabled:1===ea,onClick:()=>et(ea-1),children:"Previous"}),(0,t.jsx)(l.zx,{variant:"outline",disabled:5===ea,onClick:()=>{let e=function(e){var s,a,t,r,n,i,o,l,c,d,m;let x={};return 1!==e||((null===(s=Q.onboardingData.step1)||void 0===s?void 0:s.businessName)||(x.businessName="Business Name is required."),(null===(a=Q.onboardingData.step1)||void 0===a?void 0:a.industry)||(x.industry="Industry is required."),(null===(t=Q.onboardingData.step1)||void 0===t?void 0:t.email)||(x.email="Email is required.")),2!==e||(null===(r=Q.onboardingData.step2)||void 0===r?void 0:r.files)&&(null===(n=Q.onboardingData.step2)||void 0===n?void 0:n.files.length)!==0||(x.files="At least one business file is required."),3!==e||((null===(i=Q.onboardingData.step3)||void 0===i?void 0:i.objectives)&&(null===(o=Q.onboardingData.step3)||void 0===o?void 0:o.objectives.length)!==0||(x.objectives="At least one objective is required."),(null===(l=Q.onboardingData.step3)||void 0===l?void 0:l.personality)||(x.personality="Personality is required.")),4===e&&(null===(c=Q.onboardingData.step4)||void 0===c?void 0:c.voiceBotEnabled)===void 0&&(x.voiceBotEnabled="Voice Bot setting is required."),5!==e||((null===(d=Q.onboardingData.step5)||void 0===d?void 0:d.agentName)||(x.agentName="Agent Name is required."),(null===(m=Q.onboardingData.step5)||void 0===m?void 0:m.chatUrl)||(x.chatUrl="Chat URL is required.")),x}(ea);eo(e),0===Object.keys(e).length&&et(ea+1)},children:"Next"})]})]})})}function p(e){let{settings:s,setSettings:a,handleSave:n,loading:o,showToast:d,setShowToast:m,toastMessage:x,toastType:u,handleExport:h,handleReset:p}=e,[b,f]=(0,r.useState)("account"),{logout:v,deleteUser:j}=(0,i.a)(),y=[{id:"account",label:"Account",icon:c.nf1},{id:"onboarding",label:"Onboarding",icon:c.LAw},{id:"agent",label:"AI Agent",icon:c.LAw},{id:"notifications",label:"Notifications",icon:c.JvX},{id:"integrations",label:"Integrations",icon:c.TAt},{id:"security",label:"Security",icon:c.Sat}],N=async()=>{if(confirm("Are you sure you want to permanently delete your account? This action cannot be undone."))try{await j()}catch(e){setToastMessage("Failed to delete account. Please try again."),setToastType("error"),m(!0)}};return(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,t.jsx)("div",{className:"lg:w-1/4",children:(0,t.jsx)(l.Zb,{className:"card card-hover",children:(0,t.jsx)("nav",{className:"space-y-2",children:y.map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>f(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors ".concat(b===e.id?"bg-primary-900/20 text-primary-400 font-medium border border-primary-700/50":"text-gray-200 hover:bg-surface-700/50"),children:[(0,t.jsx)(s,{className:"w-5 h-5"}),e.label]},e.id)})})})}),(0,t.jsxs)("div",{className:"lg:w-3/4 flex flex-col",children:[d&&(0,t.jsx)(l.FN,{message:x,type:u,onClose:()=>m(!1)}),"account"===b&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(l.Zb,{title:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Personal Information"}),(0,t.jsx)(l.u,{text:"Manage your personal details including name and contact information",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),subtitle:"Update your personal details",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(l.II,{label:"First Name",value:s.firstName,onChange:e=>a(s=>({...s,firstName:e.target.value})),placeholder:"Enter your first name",tooltip:"Your given name."}),(0,t.jsx)(l.II,{label:"Last Name",value:s.lastName,onChange:e=>a(s=>({...s,lastName:e.target.value})),placeholder:"Enter your last name",tooltip:"Your family name."})]}),(0,t.jsx)(l.II,{label:"Email Address",type:"email",value:s.email,onChange:e=>a(s=>({...s,email:e.target.value})),placeholder:"Enter your email",tooltip:"Used for account notifications."})]})}),(0,t.jsx)(l.Zb,{title:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Company Information"}),(0,t.jsx)(l.u,{text:"Update your business details and company information",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),subtitle:"Update your business details",children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(l.II,{label:"Company Name",value:s.companyName,onChange:e=>a(s=>({...s,companyName:e.target.value})),placeholder:"Enter your company name",tooltip:"The name of your business."}),(0,t.jsx)(l.II,{label:"Company Website",value:s.companyWebsite,onChange:e=>a(s=>({...s,companyWebsite:e.target.value})),placeholder:"https://yourcompany.com",tooltip:"Your public business website."})]})})})]}),"onboarding"===b&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(l.Zb,{title:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Onboarding Configuration"}),(0,t.jsx)(l.u,{text:"Configure your AI agent's onboarding process and initial setup",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),subtitle:"Set up your AI agent's onboarding experience",children:(0,t.jsx)(g,{settings:s,setSettings:a,onSave:n,loading:o})})}),"agent"===b&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(l.Zb,{title:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:"AI Agent Settings"}),(0,t.jsx)(l.u,{text:"Configure how your AI agent behaves and communicates with users",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),subtitle:"Configure your AI agent",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(l.II,{label:"Agent Name",value:s.agentName,onChange:e=>a(s=>({...s,agentName:e.target.value})),placeholder:"AI Assistant",tooltip:"How your AI agent will be referred to."}),(0,t.jsx)(l.II,{label:"Welcome Message",value:s.welcomeMessage,onChange:e=>a(s=>({...s,welcomeMessage:e.target.value})),placeholder:"Hello! How can I help you today?",tooltip:"The first message users see from your agent."}),(0,t.jsx)(l.II,{label:"Fallback Message",value:s.fallbackMessage,onChange:e=>a(s=>({...s,fallbackMessage:e.target.value})),placeholder:"Fallback message",tooltip:"Shown if the agent cannot answer."}),(0,t.jsx)(l.II,{label:"Business Hours",value:s.businessHours,onChange:e=>a(s=>({...s,businessHours:e.target.value})),placeholder:"Monday-Friday: 9:00 AM - 5:00 PM",tooltip:"Displayed to users for support availability."})]})})}),"notifications"===b&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(l.Zb,{title:"Email Notifications",subtitle:"Manage your notification preferences",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-surface-700/50 rounded-lg border border-surface-600/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-white",children:"Account Notifications"}),(0,t.jsx)("div",{className:"text-sm text-gray-300",children:"Receive updates about your account and security"})]}),(0,t.jsx)(l.u,{text:"Get notified about important account changes, security alerts, and system updates via email",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:s.emailNotifications,onChange:()=>a(e=>({...e,emailNotifications:!e.emailNotifications})),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-surface-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-surface-700/50 rounded-lg border border-surface-600/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-white",children:"Marketing Emails"}),(0,t.jsx)("div",{className:"text-sm text-gray-300",children:"Receive updates about new features and promotions"})]}),(0,t.jsx)(l.u,{text:"Receive promotional content, feature announcements, and special offers from our team",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:s.marketingEmails,onChange:()=>a(e=>({...e,marketingEmails:!e.marketingEmails})),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-surface-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})})}),"integrations"===b&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(l.Zb,{title:"GoHighLevel Integration",subtitle:"Connect your GoHighLevel account to manage contacts and campaigns",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-surface-700/50 rounded-lg border border-surface-600/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-white",children:"GoHighLevel Status"}),(0,t.jsx)("div",{className:"text-sm text-gray-300",children:s.integrations.goHighLevel.connected?"Connected":"Disconnected"})]}),(0,t.jsx)(l.u,{text:"Toggle to connect or disconnect your GoHighLevel account.",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:s.integrations.goHighLevel.connected,onChange:()=>a(e=>({...e,integrations:{...e.integrations,goHighLevel:{...e.integrations.goHighLevel,connected:!e.integrations.goHighLevel.connected}}})),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-surface-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[\\'\\'] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),(0,t.jsx)(l.II,{label:"API Key",value:s.integrations.goHighLevel.apiKey,onChange:e=>a(s=>({...s,integrations:{...s.integrations,goHighLevel:{...s.integrations.goHighLevel,apiKey:e.target.value}}})),placeholder:"Enter your GoHighLevel API Key",tooltip:"Your GoHighLevel API Key for authentication."}),(0,t.jsx)(l.II,{label:"Location ID",value:s.integrations.goHighLevel.locationId,onChange:e=>a(s=>({...s,integrations:{...s.integrations,goHighLevel:{...s.integrations.goHighLevel,locationId:e.target.value}}})),placeholder:"Enter your GoHighLevel Location ID",tooltip:"Your GoHighLevel Location ID for specific business data."})]})})}),"security"===b&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(l.Zb,{title:"Privacy & Security",subtitle:"Manage your data and privacy settings",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-surface-700/50 rounded-lg border border-surface-600/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-white",children:"AI Usage & Terms Acceptance"}),(0,t.jsx)("div",{className:"text-sm text-gray-300",children:"Accept terms for AI processing"})]}),(0,t.jsx)(l.u,{text:"Allow your data to be processed by AI systems for improved service and personalization",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:s.aiUsage,onChange:()=>a(e=>({...e,aiUsage:!e.aiUsage})),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-surface-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-surface-700/50 rounded-lg border border-surface-600/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-white",children:"GDPR Compliance"}),(0,t.jsx)("div",{className:"text-sm text-gray-300",children:"EU data protection compliance"})]}),(0,t.jsx)(l.u,{text:"Enable GDPR-compliant data handling for European Union users, including data portability and deletion rights",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:s.gdpr,onChange:()=>a(e=>({...e,gdpr:!e.gdpr})),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-surface-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})}),(0,t.jsx)(l.Zb,{title:"Data Management",subtitle:"Export, import, or delete your data",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-primary-900/30 rounded-lg border border-primary-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-primary-300",children:"Export Settings"}),(0,t.jsx)("div",{className:"text-sm text-primary-400",children:"Download your settings as a JSON file"})]}),(0,t.jsx)(l.u,{text:"Download a backup of all your current settings and configuration data in JSON format",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),(0,t.jsxs)(l.zx,{variant:"outline",onClick:h,className:"border-primary-500 text-primary-400 hover:bg-primary-900/20",children:[(0,t.jsx)(c.r2j,{className:"w-4 h-4 mr-2"}),"Export"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-warning-900/30 rounded-lg border border-warning-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-warning-300",children:"Reset Settings"}),(0,t.jsx)("div",{className:"text-sm text-warning-400",children:"Reset all settings to default values"})]}),(0,t.jsx)(l.u,{text:"Warning: This will restore all settings to their default values. This action cannot be undone",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-warning-200 cursor-pointer"})})]}),(0,t.jsxs)(l.zx,{variant:"outline",onClick:p,className:"border-warning-500 text-warning-400 hover:bg-warning-900/20",children:[(0,t.jsx)(c.Em2,{className:"w-4 h-4 mr-2"}),"Reset"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-error-900/30 rounded-lg border border-error-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-error-300",children:"Delete Account"}),(0,t.jsx)("div",{className:"text-sm text-error-400",children:"Permanently delete your account and all data"})]}),(0,t.jsx)(l.u,{text:"Warning: This action will permanently delete your account and all associated data. This cannot be undone",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-error-200 cursor-pointer"})})]}),(0,t.jsxs)(l.zx,{variant:"outline",onClick:N,className:"border-error-500 text-error-400 hover:bg-error-900/20",children:[(0,t.jsx)(c.VPh,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]}),(0,t.jsx)("div",{className:"mt-8 flex justify-end",children:(0,t.jsx)(l.zx,{onClick:n,loading:o,disabled:o,className:"px-8",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(c.JMf,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})})]})]})}var b=a(6008),f=a(6464),v=a(723),j=a(7017),y=a(5615),N=a(8793),w=a(1712),D=a(8660),k=a(2054),C=a(4489),I=a(784),A=a(9984),S=a(667);function T(e){let{metrics:s}=e,a=[{date:"Mon",conversations:s.totalConversations>0?s.totalConversations/7:0},{date:"Tue",conversations:s.totalConversations>0?s.totalConversations/7*1.2:0},{date:"Wed",conversations:s.totalConversations>0?s.totalConversations/7*.8:0},{date:"Thu",conversations:s.totalConversations>0?s.totalConversations/7*1.5:0},{date:"Fri",conversations:s.totalConversations>0?s.totalConversations/7*1.1:0},{date:"Sat",conversations:s.totalConversations>0?s.totalConversations/7*.9:0},{date:"Sun",conversations:s.totalConversations||0}],r=[{name:"Satisfied",value:"N/A"!==s.satisfactionRate?s.satisfactionRate:82},{name:"Neutral",value:"N/A"!==s.satisfactionRate?(100-s.satisfactionRate)/2:10},{name:"Unsatisfied",value:"N/A"!==s.satisfactionRate?(100-s.satisfactionRate)/2:8}],n=[{name:"Web",value:s.totalConversations>0?.4*s.totalConversations:0},{name:"SMS",value:s.totalConversations>0?.3*s.totalConversations:0},{name:"Facebook",value:s.totalConversations>0?.2*s.totalConversations:0},{name:"WhatsApp",value:s.totalConversations>0?.1*s.totalConversations:0}],i=["#34d399","#fbbf24","#f87171","#60a5fa"];return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(l.Zb,{children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Analytics Dashboard"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:["Total Conversations ",(0,t.jsx)(b.u,{text:"Total number of conversations handled by your AI agent.",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),(0,t.jsx)("p",{className:"text-5xl font-bold text-primary-400 mb-4",children:s.totalConversations})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:["Total Messages ",(0,t.jsx)(b.u,{text:"Total number of messages exchanged.",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),(0,t.jsx)("p",{className:"text-5xl font-bold text-accent-400 mb-4",children:s.totalMessages})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:["Average Message Length ",(0,t.jsx)(b.u,{text:"Average character length of messages.",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),(0,t.jsxs)("p",{className:"text-5xl font-bold text-green-400 mb-4",children:[s.averageMessageLength," chars"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:["Conversations Over Time ",(0,t.jsx)(b.u,{text:"Shows the number of conversations your AI agent handled each day. (Derived from total conversations for demonstration)",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),(0,t.jsx)(f.h,{width:"100%",height:220,children:(0,t.jsxs)(v.w,{data:a,margin:{top:10,right:20,left:0,bottom:0},children:[(0,t.jsx)(j.q,{strokeDasharray:"3 3"}),(0,t.jsx)(y.K,{dataKey:"date"}),(0,t.jsx)(N.B,{}),(0,t.jsx)(b.u,{}),(0,t.jsx)(w.x,{type:"monotone",dataKey:"conversations",stroke:"#6366f1",strokeWidth:3,dot:{r:5}})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:["Satisfaction Rate ",(0,t.jsx)(b.u,{text:"Breakdown of user satisfaction with your AI agent. (Requires additional data collection)",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),"N/A"!==s.satisfactionRate?(0,t.jsx)(f.h,{width:"100%",height:220,children:(0,t.jsxs)(D.u,{children:[(0,t.jsx)(k.b,{data:r,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:70,label:!0,children:r.map((e,s)=>(0,t.jsx)(C.b,{fill:i[s%i.length]},"cell-".concat(s)))}),(0,t.jsx)(b.u,{}),(0,t.jsx)(I.D,{})]})}):(0,t.jsx)("div",{className:"text-center text-gray-400 mt-8",children:(0,t.jsx)("p",{children:"Data not available. Implement satisfaction feedback to populate this metric."})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:["Channel Breakdown ",(0,t.jsx)(b.u,{text:"Distribution of conversations by communication channel. (Derived from total conversations for demonstration)",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),(0,t.jsx)(f.h,{width:"100%",height:220,children:(0,t.jsxs)(A.v,{data:n,margin:{top:10,right:20,left:0,bottom:0},children:[(0,t.jsx)(j.q,{strokeDasharray:"3 3"}),(0,t.jsx)(y.K,{dataKey:"name"}),(0,t.jsx)(N.B,{}),(0,t.jsx)(b.u,{}),(0,t.jsx)(S.$,{dataKey:"value",fill:"#6366f1",children:n.map((e,s)=>(0,t.jsx)(C.b,{fill:i[s%i.length]},"cell-bar-".concat(s)))})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:["Top Intents / Questions ",(0,t.jsx)(b.u,{text:"Most common user questions or intents. (Requires advanced NLP processing of conversation logs)",children:(0,t.jsx)(c.ocf,{className:"w-4 h-4 text-primary-200 cursor-pointer"})})]}),(0,t.jsx)("div",{className:"text-center text-gray-400 mt-8",children:(0,t.jsx)("p",{children:"Data not available. Implement advanced NLP for intent recognition to populate this metric."})})]})]})]})})})}var E=a(2237);function L(e,s){var a,t;let r=s["step".concat(e)];if(!r||0===Object.keys(r).length)return!1;switch(e){case 1:return!!(r.businessName||r.website||r.email);case 2:return!!((null===(a=r.files)||void 0===a?void 0:a.length)>0||r.crawl||r.website);case 3:return!!((null===(t=r.objectives)||void 0===t?void 0:t.length)>0||r.personality);case 4:return void 0!==r.voiceBotEnabled;case 5:return!!(r.agentName||r.chatUrl);default:return!1}}function M(e){for(let s=1;s<=5;s++)if(!L(s,e))return!1;return!0}function P(){let{user:e,logout:s}=(0,i.a)();(0,n.useRouter)();let[a,x]=(0,r.useState)("overview"),[g,b]=(0,r.useState)({totalConversations:0,totalMessages:0,averageMessageLength:0,avgResponseTime:"N/A",satisfactionRate:"N/A",activeAgents:0}),[f,v]=(0,r.useState)({}),j={firstName:"",lastName:"",email:"",companyName:"",companyWebsite:"",onboardingData:{step1:{},step2:{files:[]},step3:{},step4:{},step5:{}},agentName:"AI Assistant",welcomeMessage:"Hello! How can I help you today?",fallbackMessage:"I'll connect you with a human representative shortly.",businessHours:"Monday-Friday: 9:00 AM - 5:00 PM",aiUsage:!0,gdpr:!0,emailNotifications:!0,marketingEmails:!1,integrations:{goHighLevel:{connected:!1,apiKey:"",locationId:""},openai:{connected:!1,apiKey:""},googleAnalytics:{connected:!1,trackingId:""},zapier:{connected:!1,webhookUrl:""}}},[y,N]=(0,r.useState)(j),[w,D]=(0,r.useState)(!1),[k,C]=(0,r.useState)(""),[I,A]=(0,r.useState)("success"),[S,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(null==e?void 0:e.onboardingData)&&v(e.onboardingData),e&&N(s=>{var a,t,r,n,i,o,l,c,d;return{...s,firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",companyName:(null===(a=e.company)||void 0===a?void 0:a.name)||"",companyWebsite:(null===(t=e.company)||void 0===t?void 0:t.website)||"",agentName:(null===(r=e.settings)||void 0===r?void 0:r.agentName)||j.agentName,welcomeMessage:(null===(n=e.settings)||void 0===n?void 0:n.welcomeMessage)||j.welcomeMessage,fallbackMessage:(null===(i=e.settings)||void 0===i?void 0:i.fallbackMessage)||j.fallbackMessage,businessHours:(null===(o=e.settings)||void 0===o?void 0:o.businessHours)||j.businessHours,integrations:e.integrations||j.integrations,onboardingData:{...j.onboardingData,...e.onboardingData,step2:{...(null===(l=e.onboardingData)||void 0===l?void 0:l.step2)||{},files:Array.isArray(null===(d=e.onboardingData)||void 0===d?void 0:null===(c=d.step2)||void 0===c?void 0:c.files)?e.onboardingData.step2.files:[]}}}})},[e]),(0,r.useEffect)(()=>{(async()=>{if(e)try{let e=await fetch("https://api.botslinger.ai/dashboard/metrics",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let s=await e.json();b(e=>({...e,totalConversations:s.metrics.totalConversations,totalMessages:s.metrics.totalMessages,averageMessageLength:s.metrics.averageMessageLength||0,avgResponseTime:s.metrics.avgResponseTime,satisfactionRate:s.metrics.satisfactionRate}))}catch(e){console.error("Error fetching metrics:",e),C("Failed to load metrics."),A("error"),D(!0)}})()},[e]);let U=async()=>{await s()};function R(e){return({1:"Business Information",2:"Knowledge Base",3:"Agent Configuration",4:"Voice Settings",5:"Deployment"})[e]||"Step ".concat(e)}function H(){let e=0;for(let s=1;s<=5;s++)L(s,f)&&e++;return Math.round(e/5*100)}let B=async()=>{P(!0);try{var e;let s={firstName:y.firstName,lastName:y.lastName,company:{name:y.companyName,website:y.companyWebsite},settings:{agentName:y.agentName,welcomeMessage:y.welcomeMessage,fallbackMessage:y.fallbackMessage,businessHours:y.businessHours,aiUsage:y.aiUsage,gdpr:y.gdpr},integrations:y.integrations,onboardingData:{...y.onboardingData,step2:{...y.onboardingData.step2,files:((null===(e=y.onboardingData.step2)||void 0===e?void 0:e.files)||[]).filter(e=>"string"==typeof e)}}};if(!(await fetch("https://api.botslinger.ai/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(s)})).ok)throw Error("Failed to update profile");C("Settings saved successfully!"),A("success"),D(!0)}catch(e){C("Failed to save settings. Please try again."),A("error"),D(!0)}finally{P(!1)}},Z=async()=>{confirm("Are you sure you want to reset all settings to defaults? This action cannot be undone.")&&(N(j),C("Settings reset to defaults."),A("info"),D(!0))},z=async e=>{try{let s=await fetch("https://api.botslinger.ai/agents/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({message:e})});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));return(await s.json()).response}catch(e){return console.error("Error sending message to backend agent:",e),C("Failed to get agent response. Please check backend."),A("error"),D(!0),"Error: Could not get a response from the agent."}},F=[{id:"overview",label:"Overview",icon:c.LkT},{id:"onboarding",label:"Onboarding",icon:c.HiV},{id:"agents",label:"AI Agents",icon:c.LAw},{id:"conversations",label:"Conversations",icon:c.e$J},{id:"analytics",label:"Analytics",icon:c.Io8},{id:"settings",label:"Settings",icon:c.zPD}];return(0,t.jsx)(o,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-dark",children:[(0,t.jsx)("header",{className:"glass-dark border-b border-dark-600/50",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold gradient-text text-shadow",children:"Dashboard"}),(0,t.jsx)(l.Ct,{variant:"success",className:"animate-pulse-slow",children:"Live"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:["Welcome back, ",(0,t.jsx)("span",{className:"text-primary-400 font-medium",children:null==e?void 0:e.firstName}),"!"]}),(0,t.jsx)("button",{onClick:U,className:"px-4 py-2 text-sm text-gray-300 hover:text-white hover:bg-surface-700 rounded-lg transition-all duration-300",children:"Logout"})]})]})})}),(0,t.jsx)("nav",{className:"glass-dark border-b border-dark-600/50",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"flex space-x-4",children:F.map(e=>(0,t.jsxs)("button",{className:"py-3 px-4 inline-flex items-center gap-2 text-sm font-medium rounded-t-lg transition-all duration-300 ".concat(a===e.id?"bg-surface-700 text-white":"text-gray-400 hover:text-gray-200 hover:bg-surface-800"),onClick:()=>x(e.id),children:[(0,t.jsx)(e.icon,{className:"w-5 h-5"}),e.label]},e.id))})})}),(0,t.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"space-y-6",children:["overview"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(u,{user:e,metrics:g,onboardingData:f,getOnboardingProgress:H,getStepTitle:R,setActiveTab:x})}),"onboarding"===a&&(0,t.jsx)(h,{onboardingData:f,getOnboardingProgress:H,getStepTitle:R,setActiveTab:x}),"agents"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(l.Zb,{className:"card card-hover",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"AI Agent Status"}),!M(f)&&(0,t.jsxs)("div",{className:"mb-4 p-4 bg-warning-900/30 border border-warning-700/50 rounded-lg text-warning-300 text-sm",children:[(0,t.jsx)("strong",{children:"Complete all onboarding steps to activate your AI agent."}),(0,t.jsxs)("div",{className:"mt-2",children:["Incomplete steps:",(0,t.jsx)("ul",{className:"list-disc list-inside ml-4 mt-1",children:[1,2,3,4,5].filter(e=>!L(e,f)).map(e=>(0,t.jsx)("li",{className:"text-warning-200",children:R(e)},e))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 rounded-lg border ".concat(M(f)?"bg-success-900/30 border-success-700/50":"bg-surface-700/50 border-surface-600/50"),children:[(0,t.jsxs)("div",{className:"flex justify-center mb-2 gap-2",children:[(0,t.jsx)(c.LAw,{className:"w-8 h-8 ".concat(M(f)?"text-success-300":"text-gray-400")}),(0,t.jsx)(m.Z,{text:M(f)?"Your AI agent is live and available to users.":"Your AI agent will be live once all onboarding steps are complete.",children:(0,t.jsx)(c.ocf,{className:"w-5 h-5 ".concat(M(f)?"text-success-200":"text-gray-400"," cursor-pointer")})})]}),(0,t.jsx)("div",{className:"font-semibold ".concat(M(f)?"text-success-300":"text-gray-400"),children:"Agent"}),(0,t.jsx)("div",{className:"text-sm ".concat(M(f)?"text-success-400":"text-gray-400"),children:M(f)?"Live":"Inactive"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-primary-900/30 rounded-lg border border-primary-700/50",children:[(0,t.jsxs)("div",{className:"flex justify-center mb-2 gap-2",children:[(0,t.jsx)(E.xBA,{className:"w-8 h-8 text-primary-300"}),(0,t.jsx)(m.Z,{text:"The AI agent's knowledge base and skills are up to date.",children:(0,t.jsx)(c.ocf,{className:"w-5 h-5 text-primary-200 cursor-pointer"})})]}),(0,t.jsx)("div",{className:"font-semibold text-primary-300",children:"Training"}),(0,t.jsx)("div",{className:"text-sm text-primary-400",children:"Complete"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-accent-900/30 rounded-lg border border-accent-700/50",children:[(0,t.jsxs)("div",{className:"flex justify-center mb-2 gap-2",children:[(0,t.jsx)(c.uFt,{className:"w-8 h-8 text-accent-300"}),(0,t.jsx)(m.Z,{text:"Your AI agent is connected to third-party services.",children:(0,t.jsx)(c.ocf,{className:"w-5 h-5 text-accent-200 cursor-pointer"})})]}),(0,t.jsx)("div",{className:"font-semibold text-accent-300",children:"Integration"}),(0,t.jsx)("div",{className:"text-sm text-accent-400",children:"Connected"})]})]})]})})}),"conversations"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(l.Zb,{className:"card card-hover",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Live Chat Preview"}),(0,t.jsx)(d,{agentName:y.agentName,welcomeMessage:y.welcomeMessage,onSendMessage:z})]})})}),"analytics"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(T,{metrics:g})}),"settings"===a&&(0,t.jsx)(p,{settings:y,setSettings:N,handleSave:B,loading:S,showToast:w,setShowToast:D,toastMessage:k,toastType:I,handleExport:()=>{let e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(y,null,2)),s=document.createElement("a");s.setAttribute("href",e),s.setAttribute("download","ai-agent-settings.json"),document.body.appendChild(s),s.click(),s.remove(),C("Settings exported successfully!"),A("success"),D(!0)},handleReset:Z})]})})]})})}}},function(e){e.O(0,[594,127,988,888,774,179],function(){return e(e.s=1840)}),_N_E=e.O()}]);